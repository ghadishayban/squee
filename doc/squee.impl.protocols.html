<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>squee.impl.protocols documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Squee 0.0.1 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>squee</span></div></div></li><li class="depth-2 branch"><a href="squee.datasources.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datasources</span></div></a></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>impl</span></div></div></li><li class="depth-3 current"><a href="squee.impl.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-2"><a href="squee.jdbc.html"><div class="inner"><span class="tree" style="top: -52px;"><span class="top" style="height: 61px;"></span><span class="bottom"></span></span><span>jdbc</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="squee.impl.protocols.html#var-IConnection"><div class="inner"><span>IConnection</span></div></a></li><li class="depth-2"><a href="squee.impl.protocols.html#var-get-connection"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>get-connection</span></div></a></li><li class="depth-1"><a href="squee.impl.protocols.html#var-IDataSource"><div class="inner"><span>IDataSource</span></div></a></li><li class="depth-2"><a href="squee.impl.protocols.html#var-open-connection"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>open-connection</span></div></a></li><li class="depth-1"><a href="squee.impl.protocols.html#var-ISQLParameter"><div class="inner"><span>ISQLParameter</span></div></a></li><li class="depth-2"><a href="squee.impl.protocols.html#var-set-parameter"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>set-parameter</span></div></a></li><li class="depth-1"><a href="squee.impl.protocols.html#var-ISQLValue"><div class="inner"><span>ISQLValue</span></div></a></li><li class="depth-2"><a href="squee.impl.protocols.html#var-sql-value"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sql-value</span></div></a></li><li class="depth-1"><a href="squee.impl.protocols.html#var-ITransaction"><div class="inner"><span>ITransaction</span></div></a></li><li class="depth-2 branch"><a href="squee.impl.protocols.html#var-commit.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>commit!</span></div></a></li><li class="depth-2"><a href="squee.impl.protocols.html#var-rollback.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rollback!</span></div></a></li><li class="depth-1"><a href="squee.impl.protocols.html#var-ITransactionFactory"><div class="inner"><span>ITransactionFactory</span></div></a></li><li class="depth-2"><a href="squee.impl.protocols.html#var-begin.21"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>begin!</span></div></a></li><li class="depth-1"><a href="squee.impl.protocols.html#var-RowGenerator"><div class="inner"><span>RowGenerator</span></div></a></li><li class="depth-2 branch"><a href="squee.impl.protocols.html#var-complete-row"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>complete-row</span></div></a></li><li class="depth-2 branch"><a href="squee.impl.protocols.html#var-make-row"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>make-row</span></div></a></li><li class="depth-2"><a href="squee.impl.protocols.html#var-with-field"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>with-field</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">squee.impl.protocols</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-IConnection"><h3>IConnection</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Internal, do not extend. Only extenders should be java.sql.Connection
and things in the transaction namespace.</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-get-connection"><h3>get-connection</h3><div class="usage"><code>(get-connection _)</code></div><div class="doc"><pre class="plaintext">Returns the open underlying connection.
</pre></div></div></div></div><div class="src-link"><a href="http://github.com/ghadishayban/squee/blob/master/src/squee/impl/protocols.clj#L6">view source</a></div></div><div class="public anchor" id="var-IDataSource"><h3>IDataSource</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-open-connection"><h3>open-connection</h3><div class="usage"><code>(open-connection _)</code></div><div class="doc"><pre class="plaintext">Must return a java.sql.Connection
</pre></div></div></div></div><div class="src-link"><a href="http://github.com/ghadishayban/squee/blob/master/src/squee/impl/protocols.clj#L3">view source</a></div></div><div class="public anchor" id="var-ISQLParameter"><h3>ISQLParameter</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Protocol for setting SQL parameters in statement objects, which
can convert from Clojure values. The default implementation just
delegates the conversion to ISQLValue&apos;s sql-value conversion and
uses .setObject on the parameter. It can be extended to use other
methods of PreparedStatement to convert and set parameter values.</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-set-parameter"><h3>set-parameter</h3><div class="usage"><code>(set-parameter val stmt ix)</code></div><div class="doc"><pre class="plaintext">Convert a Clojure value into a SQL value and store it as the ix&apos;th
parameter in the given SQL statement object.</pre></div></div></div></div><div class="src-link"><a href="http://github.com/ghadishayban/squee/blob/master/src/squee/impl/protocols.clj#L32">view source</a></div></div><div class="public anchor" id="var-ISQLValue"><h3>ISQLValue</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Protocol for creating SQL values from Clojure values. Default
implementations (for Object and nil) just return the argument,
but it can be extended to provide custom behavior to support
exotic types supported by different databases.</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-sql-value"><h3>sql-value</h3><div class="usage"><code>(sql-value val)</code></div><div class="doc"><pre class="plaintext">Convert a Clojure value into a SQL value.
</pre></div></div></div></div><div class="src-link"><a href="http://github.com/ghadishayban/squee/blob/master/src/squee/impl/protocols.clj#L25">view source</a></div></div><div class="public anchor" id="var-ITransaction"><h3>ITransaction</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-commit.21"><h3>commit!</h3><div class="usage"><code>(commit! _)</code></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-rollback.21"><h3>rollback!</h3><div class="usage"><code>(rollback! _)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div><div class="src-link"><a href="http://github.com/ghadishayban/squee/blob/master/src/squee/impl/protocols.clj#L14">view source</a></div></div><div class="public anchor" id="var-ITransactionFactory"><h3>ITransactionFactory</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-begin.21"><h3>begin!</h3><div class="usage"><code>(begin! _ opts)</code></div><div class="doc"><pre class="plaintext">Starts a transaction, returning something that encompasses a connection and transaction
</pre></div></div></div></div><div class="src-link"><a href="http://github.com/ghadishayban/squee/blob/master/src/squee/impl/protocols.clj#L11">view source</a></div></div><div class="public anchor" id="var-RowGenerator"><h3>RowGenerator</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-complete-row"><h3>complete-row</h3><div class="usage"><code>(complete-row _ row)</code></div><div class="doc"><pre class="plaintext">similar to an arity-1 reducing function completer
</pre></div></div><div class="public anchor" id="var-make-row"><h3>make-row</h3><div class="usage"><code>(make-row _)</code></div><div class="doc"><pre class="plaintext">Creates a gestational row
</pre></div></div><div class="public anchor" id="var-with-field"><h3>with-field</h3><div class="usage"><code>(with-field _ row name val)</code></div><div class="doc"><pre class="plaintext">Adds the kv pair to the row, returning a new row
</pre></div></div></div></div><div class="src-link"><a href="http://github.com/ghadishayban/squee/blob/master/src/squee/impl/protocols.clj#L18">view source</a></div></div></div></body></html>